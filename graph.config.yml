general:
  arbitrator: &arbitrator "0x90F8bf6A479f320ead074411a4B0e7944Ea8c9C1"
  nodeSignerAddress: &nodeSignerAddress "0x0000000000000000000000000000000000000000"

contracts:
  Curation:
    init:
      token: "${{GraphToken.address}}"
      reserveRatio: 500000 # 50% (in basis points)
      minimumCurationDeposit: "100000000000000000000" # 100 GRT
    proxy: true
    calls:
      - fn: "setWithdrawalFeePercentage"
        withdrawalFeePercentage: 50000 # 5% (in basis points)
      - fn: "setStaking"
        staking: "${{Staking.address}}"
      - fn: "setRewardsManager"
        thawingPeriod: "${{RewardsManager.address}}"
  DisputeManager:
    init:
      arbitrator: *arbitrator
      token: "${{GraphToken.address}}"
      staking: "${{Staking.address}}"
      minimumDeposit: "100000000000000000000" # 100 GRT (in wei)
      fishermanRewardPercentage: 100000 # 10% (in basis points)
      slashingPercentage: 100000 # 10% (in basis points)
  EpochManager:
    init:
      lengthInBlocks: 275 # ~1 hour (in blocks)
    proxy: true
  GNS:
    init:
      didRegistry: "0xdca7ef03e98e0dc2b855be647c39abe984fcf21b"
      curation: "${{Curation.address}}"
      token: "${{GraphToken.address}}"
  GraphToken:
    init:
      initialSupply: "10000000000000000000000000000" # 10,000,000,000 GRT
    calls:
      - fn: "addMinter"
        minter: "${{RewardsManager.address}}"
  Staking:
    init:
      token: "${{GraphToken.address}}"
      epochManager: "${{EpochManager.address}}"
    proxy: true
    calls:
      - fn: "setCuration"
        curation: "${{Curation.address}}"
      - fn: "setCurationPercentage"
        percentage: 100000 # 10%
      - fn: "setChannelDisputeEpochs"
        channelDisputeEpochs: 1
      - fn: "setMaxAllocationEpochs"
        maxAllocationEpochs: 24 # Based on epoch length this is ~1 day (in epochs)
      - fn: "setThawingPeriod"
        thawingPeriod: 275 # ~1 hour (in blocks)
      - fn: "setRewardsManager"
        rewardsManager: "${{RewardsManager.address}}"
      - fn: "setDelegationCapacity"
        delegationCapacity: 1 # 100% (multiplier)
      - fn: "setProtocolPercentage"
        protocolPercentage: 10000 # 1% (in basis points)
  RewardsManager:
    init:
      token: "${{GraphToken.address}}"
      curation: "${{Curation.address}}"
      staking: "${{Staking.address}}"
      issuanceRate: "1000000023206889619" # 5% annual rate
    proxy: true
  MinimumViableMultisig:
    init:
      node: *nodeSignerAddress
      staking: "${{Staking.address}}"
      CTDT: "${{IndexerCTDT.address}}"
      singleAssetInterpreter: "${{IndexerSingleAssetInterpreter.address}}"
      multiAssetInterpreter: "${{IndexerMultiAssetInterpreter.address}}"
      withdrawInterpreter: "${{IndexerWithdrawInterpreter.address}}"
