{
  "_format": "hh-sol-artifact-1",
  "contractName": "GraphPayments",
  "sourceName": "contracts/payments/GraphPayments.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "controller",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "protocolPaymentCut",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "target",
          "type": "address"
        }
      ],
      "name": "AddressEmptyCode",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "FailedInnerCall",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "bytes",
          "name": "contractName",
          "type": "bytes"
        }
      ],
      "name": "GraphDirectoryInvalidZeroAddress",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "tokens",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "minTokens",
          "type": "uint256"
        }
      ],
      "name": "GraphPaymentsInsufficientTokens",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "protocolPaymentCut",
          "type": "uint256"
        }
      ],
      "name": "GraphPaymentsInvalidProtocolPaymentCut",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidInitialization",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotInitializing",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "a",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "b",
          "type": "uint256"
        }
      ],
      "name": "PPMMathInvalidMulPPM",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "graphToken",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "graphStaking",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphPayments",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphEscrow",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "graphController",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphEpochManager",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphRewardsManager",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphTokenGateway",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphProxyAdmin",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "graphCuration",
          "type": "address"
        }
      ],
      "name": "GraphDirectoryInitialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint64",
          "name": "version",
          "type": "uint64"
        }
      ],
      "name": "Initialized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "dataService",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensReceiver",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensDelegationPool",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensDataService",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "tokensProtocol",
          "type": "uint256"
        }
      ],
      "name": "PaymentCollected",
      "type": "event"
    },
    {
      "inputs": [],
      "name": "PROTOCOL_PAYMENT_CUT",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "enum IGraphPayments.PaymentTypes",
          "name": "paymentType",
          "type": "uint8"
        },
        {
          "internalType": "address",
          "name": "receiver",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokens",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "dataService",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "tokensDataService",
          "type": "uint256"
        }
      ],
      "name": "collect",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "initialize",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "bytes[]",
          "name": "data",
          "type": "bytes[]"
        }
      ],
      "name": "multicall",
      "outputs": [
        {
          "internalType": "bytes[]",
          "name": "results",
          "type": "bytes[]"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6101e060405234801561001157600080fd5b5060405161132f38038061132f833981016040819052610030916104ee565b816001600160a01b03811661007a5760405163218f5add60e11b815260206004820152600a60248201526921b7b73a3937b63632b960b11b60448201526064015b60405180910390fd5b6001600160a01b0381166101005260408051808201909152600a81526923b930b8342a37b5b2b760b11b60208201526100b290610372565b6001600160a01b03166080526040805180820190915260078152665374616b696e6760c81b60208201526100e590610372565b6001600160a01b031660a05260408051808201909152600d81526c47726170685061796d656e747360981b602082015261011e90610372565b6001600160a01b031660c05260408051808201909152600e81526d5061796d656e7473457363726f7760901b602082015261015890610372565b6001600160a01b031660e05260408051808201909152600c81526b22b837b1b426b0b730b3b2b960a11b602082015261019090610372565b6001600160a01b03166101205260408051808201909152600e81526d2932bbb0b93239a6b0b730b3b2b960911b60208201526101cb90610372565b6001600160a01b0316610140526040805180820190915260118152704772617068546f6b656e4761746577617960781b602082015261020990610372565b6001600160a01b03166101605260408051808201909152600f81526e23b930b834283937bc3ca0b236b4b760891b602082015261024590610372565b6001600160a01b03166101805260408051808201909152600881526721bab930ba34b7b760c11b602082015261027a90610372565b6001600160a01b039081166101a08190526101005160a05160805160c05160e05161012051610140516101605161018051604051988b169a9788169996909716977fef5021414834d86e36470f5c1cecf6544fb2bb723f2ca51a4c86fcd8c5919a43976103249790916001600160a01b03978816815295871660208701529386166040860152918516606085015284166080840152831660a083015290911660c082015260e00190565b60405180910390a45061033a81620f4240101590565b819061035c5760405163d3097bcb60e01b815260040161007191815260200190565b506101c081905261036b610420565b505061058a565b600080610100516001600160a01b031663f7641a5e84805190602001206040518263ffffffff1660e01b81526004016103ad91815260200190565b602060405180830381865afa1580156103ca573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103ee919061051a565b9050826001600160a01b0382166104195760405163218f5add60e11b8152600401610071919061053c565b5092915050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a00805468010000000000000000900460ff16156104705760405163f92ee8a960e01b815260040160405180910390fd5b80546001600160401b03908116146104cf5780546001600160401b0319166001600160401b0390811782556040519081527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b50565b80516001600160a01b03811681146104e957600080fd5b919050565b6000806040838503121561050157600080fd5b61050a836104d2565b9150602083015190509250929050565b60006020828403121561052c57600080fd5b610535826104d2565b9392505050565b602081526000825180602084015260005b8181101561056a576020818601810151604086840101520161054d565b506000604082850101526040601f19601f83011684010191505092915050565b60805160a05160c05160e05161010051610120516101405161016051610180516101a0516101c051610d086106276000396000818160560152610104015260005050600050506000505060005050600050506000505060005050600050506000818161012e015281816102c1015261035401526000818160d5015281816102220152818161025a0152818161029201526103f50152610d086000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c80631d526e50146100515780636c69783a1461008b5780638129fc1c146100a0578063ac9650d8146100a8575b600080fd5b6100787f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020015b60405180910390f35b61009e6100993660046109ab565b6100c8565b005b61009e61047f565b6100bb6100b6366004610a06565b61058d565b6040516100829190610aa1565b6100fc6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163385610676565b6000610128847f0000000000000000000000000000000000000000000000000000000000000000610733565b905060007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316637573ef4f87868a6040518463ffffffff1660e01b815260040161017c93929190610b21565b602060405180830381865afa158015610199573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101bd9190610b65565b905060006101cb8683610733565b90506000816101da8686610b94565b6101e49190610b94565b905086818082101561021757604051638bd93bad60e01b8152600481019290925260248201526044015b60405180910390fd5b5050610253846102447f000000000000000000000000000000000000000000000000000000000000000090565b6001600160a01b0316906107a1565b61028a86867f00000000000000000000000000000000000000000000000000000000000000005b6001600160a01b03169190610806565b81156103e0577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663095ea7b37f00000000000000000000000000000000000000000000000000000000000000006040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018590526044016020604051808303816000875af115801561032d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103519190610ba7565b507f000000000000000000000000000000000000000000000000000000000000000060405163ca94b0e960e01b81526001600160a01b038a81166004830152888116602483015260448201859052919091169063ca94b0e990606401600060405180830381600087803b1580156103c757600080fd5b505af11580156103db573d6000803e3d6000fd5b505050505b60006103ec8289610bc9565b905061041989827f000000000000000000000000000000000000000000000000000000000000000061027a565b6040805182815260208101859052908101879052606081018690526001600160a01b0380891691908b169033907fb6dba03dcdcd7b7167b22bd6f1462a936eb55f4218b1d4dddff20bdec5703ca39060800160405180910390a450505050505050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff16159067ffffffffffffffff166000811580156104c55750825b905060008267ffffffffffffffff1660011480156104e25750303b155b9050811580156104f0575080155b1561050e5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff19166001178555831561053857845460ff60401b1916600160401b1785555b610540610841565b831561058657845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b5050505050565b6040805160008152602081019091526060908267ffffffffffffffff8111156105b8576105b8610bdc565b6040519080825280602002602001820160405280156105eb57816020015b60608152602001906001900390816105d65790505b50915060005b8381101561066d576106483086868481811061060f5761060f610bf2565b90506020028101906106219190610c08565b8560405160200161063493929190610c56565b60405160208183030381529060405261084b565b83828151811061065a5761065a610bf2565b60209081029190910101526001016105f1565b50505b92915050565b801561072e576040516323b872dd60e01b81526001600160a01b038381166004830152306024830152604482018390528416906323b872dd906064015b6020604051808303816000875af11580156106d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f69190610ba7565b61072e5760405162461bcd60e51b815260206004820152600960248201526810ba3930b739b332b960b91b604482015260640161020e565b505050565b600061074283620f4240101590565b80610755575061075582620f4240101590565b8383909161077f5760405163768bf0eb60e11b81526004810192909252602482015260440161020e565b50620f424090506107908385610c7d565b61079a9190610c94565b9392505050565b801561080257604051630852cd8d60e31b8152600481018290526001600160a01b038316906342966c6890602401600060405180830381600087803b1580156107e957600080fd5b505af11580156107fd573d6000803e3d6000fd5b505050505b5050565b801561072e5760405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905284169063a9059cbb906044016106b3565b6108496108c1565b565b6060600080846001600160a01b0316846040516108689190610cb6565b600060405180830381855af49150503d80600081146108a3576040519150601f19603f3d011682016040523d82523d6000602084013e6108a8565b606091505b50915091506108b885838361090a565b95945050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0054600160401b900460ff1661084957604051631afcd79f60e31b815260040160405180910390fd5b60608261091f5761091a82610966565b61079a565b815115801561093657506001600160a01b0384163b155b1561095f57604051639996b31560e01b81526001600160a01b038516600482015260240161020e565b5092915050565b8051156109765780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b80356001600160a01b03811681146109a657600080fd5b919050565b600080600080600060a086880312156109c357600080fd5b8535600381106109d257600080fd5b94506109e06020870161098f565b9350604086013592506109f56060870161098f565b949793965091946080013592915050565b60008060208385031215610a1957600080fd5b823567ffffffffffffffff811115610a3057600080fd5b8301601f81018513610a4157600080fd5b803567ffffffffffffffff811115610a5857600080fd5b8560208260051b8401011115610a6d57600080fd5b6020919091019590945092505050565b60005b83811015610a98578181015183820152602001610a80565b50506000910152565b6000602082016020835280845180835260408501915060408160051b86010192506020860160005b82811015610b1557603f1987860301845281518051808752610af2816020890160208501610a7d565b601f01601f19169590950160209081019550938401939190910190600101610ac9565b50929695505050505050565b6001600160a01b038481168252831660208201526060810160038310610b5757634e487b7160e01b600052602160045260246000fd5b826040830152949350505050565b600060208284031215610b7757600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561067057610670610b7e565b600060208284031215610bb957600080fd5b8151801515811461079a57600080fd5b8181038181111561067057610670610b7e565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b6000808335601e19843603018112610c1f57600080fd5b83018035915067ffffffffffffffff821115610c3a57600080fd5b602001915036819003821315610c4f57600080fd5b9250929050565b828482376000838201600081528351610c73818360208801610a7d565b0195945050505050565b808202811582820484141761067057610670610b7e565b600082610cb157634e487b7160e01b600052601260045260246000fd5b500490565b60008251610cc8818460208701610a7d565b919091019291505056fea2646970667358221220014e32010460d303e4961788506a40f57bf919f7e64f17c1db1f5dcfec869fbd64736f6c634300081b0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c80631d526e50146100515780636c69783a1461008b5780638129fc1c146100a0578063ac9650d8146100a8575b600080fd5b6100787f000000000000000000000000000000000000000000000000000000000000000081565b6040519081526020015b60405180910390f35b61009e6100993660046109ab565b6100c8565b005b61009e61047f565b6100bb6100b6366004610a06565b61058d565b6040516100829190610aa1565b6100fc6001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000163385610676565b6000610128847f0000000000000000000000000000000000000000000000000000000000000000610733565b905060007f00000000000000000000000000000000000000000000000000000000000000006001600160a01b0316637573ef4f87868a6040518463ffffffff1660e01b815260040161017c93929190610b21565b602060405180830381865afa158015610199573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101bd9190610b65565b905060006101cb8683610733565b90506000816101da8686610b94565b6101e49190610b94565b905086818082101561021757604051638bd93bad60e01b8152600481019290925260248201526044015b60405180910390fd5b5050610253846102447f000000000000000000000000000000000000000000000000000000000000000090565b6001600160a01b0316906107a1565b61028a86867f00000000000000000000000000000000000000000000000000000000000000005b6001600160a01b03169190610806565b81156103e0577f00000000000000000000000000000000000000000000000000000000000000006001600160a01b031663095ea7b37f00000000000000000000000000000000000000000000000000000000000000006040516001600160e01b031960e084901b1681526001600160a01b039091166004820152602481018590526044016020604051808303816000875af115801561032d573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906103519190610ba7565b507f000000000000000000000000000000000000000000000000000000000000000060405163ca94b0e960e01b81526001600160a01b038a81166004830152888116602483015260448201859052919091169063ca94b0e990606401600060405180830381600087803b1580156103c757600080fd5b505af11580156103db573d6000803e3d6000fd5b505050505b60006103ec8289610bc9565b905061041989827f000000000000000000000000000000000000000000000000000000000000000061027a565b6040805182815260208101859052908101879052606081018690526001600160a01b0380891691908b169033907fb6dba03dcdcd7b7167b22bd6f1462a936eb55f4218b1d4dddff20bdec5703ca39060800160405180910390a450505050505050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a008054600160401b810460ff16159067ffffffffffffffff166000811580156104c55750825b905060008267ffffffffffffffff1660011480156104e25750303b155b9050811580156104f0575080155b1561050e5760405163f92ee8a960e01b815260040160405180910390fd5b845467ffffffffffffffff19166001178555831561053857845460ff60401b1916600160401b1785555b610540610841565b831561058657845460ff60401b19168555604051600181527fc7f505b2f371ae2175ee4913f4499e1f2633a7b5936321eed1cdaeb6115181d29060200160405180910390a15b5050505050565b6040805160008152602081019091526060908267ffffffffffffffff8111156105b8576105b8610bdc565b6040519080825280602002602001820160405280156105eb57816020015b60608152602001906001900390816105d65790505b50915060005b8381101561066d576106483086868481811061060f5761060f610bf2565b90506020028101906106219190610c08565b8560405160200161063493929190610c56565b60405160208183030381529060405261084b565b83828151811061065a5761065a610bf2565b60209081029190910101526001016105f1565b50505b92915050565b801561072e576040516323b872dd60e01b81526001600160a01b038381166004830152306024830152604482018390528416906323b872dd906064015b6020604051808303816000875af11580156106d2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106f69190610ba7565b61072e5760405162461bcd60e51b815260206004820152600960248201526810ba3930b739b332b960b91b604482015260640161020e565b505050565b600061074283620f4240101590565b80610755575061075582620f4240101590565b8383909161077f5760405163768bf0eb60e11b81526004810192909252602482015260440161020e565b50620f424090506107908385610c7d565b61079a9190610c94565b9392505050565b801561080257604051630852cd8d60e31b8152600481018290526001600160a01b038316906342966c6890602401600060405180830381600087803b1580156107e957600080fd5b505af11580156107fd573d6000803e3d6000fd5b505050505b5050565b801561072e5760405163a9059cbb60e01b81526001600160a01b0383811660048301526024820183905284169063a9059cbb906044016106b3565b6108496108c1565b565b6060600080846001600160a01b0316846040516108689190610cb6565b600060405180830381855af49150503d80600081146108a3576040519150601f19603f3d011682016040523d82523d6000602084013e6108a8565b606091505b50915091506108b885838361090a565b95945050505050565b7ff0c57e16840df040f15088dc2f81fe391c3923bec73e23a9662efc9c229c6a0054600160401b900460ff1661084957604051631afcd79f60e31b815260040160405180910390fd5b60608261091f5761091a82610966565b61079a565b815115801561093657506001600160a01b0384163b155b1561095f57604051639996b31560e01b81526001600160a01b038516600482015260240161020e565b5092915050565b8051156109765780518082602001fd5b604051630a12f52160e11b815260040160405180910390fd5b80356001600160a01b03811681146109a657600080fd5b919050565b600080600080600060a086880312156109c357600080fd5b8535600381106109d257600080fd5b94506109e06020870161098f565b9350604086013592506109f56060870161098f565b949793965091946080013592915050565b60008060208385031215610a1957600080fd5b823567ffffffffffffffff811115610a3057600080fd5b8301601f81018513610a4157600080fd5b803567ffffffffffffffff811115610a5857600080fd5b8560208260051b8401011115610a6d57600080fd5b6020919091019590945092505050565b60005b83811015610a98578181015183820152602001610a80565b50506000910152565b6000602082016020835280845180835260408501915060408160051b86010192506020860160005b82811015610b1557603f1987860301845281518051808752610af2816020890160208501610a7d565b601f01601f19169590950160209081019550938401939190910190600101610ac9565b50929695505050505050565b6001600160a01b038481168252831660208201526060810160038310610b5757634e487b7160e01b600052602160045260246000fd5b826040830152949350505050565b600060208284031215610b7757600080fd5b5051919050565b634e487b7160e01b600052601160045260246000fd5b8082018082111561067057610670610b7e565b600060208284031215610bb957600080fd5b8151801515811461079a57600080fd5b8181038181111561067057610670610b7e565b634e487b7160e01b600052604160045260246000fd5b634e487b7160e01b600052603260045260246000fd5b6000808335601e19843603018112610c1f57600080fd5b83018035915067ffffffffffffffff821115610c3a57600080fd5b602001915036819003821315610c4f57600080fd5b9250929050565b828482376000838201600081528351610c73818360208801610a7d565b0195945050505050565b808202811582820484141761067057610670610b7e565b600082610cb157634e487b7160e01b600052601260045260246000fd5b500490565b60008251610cc8818460208701610a7d565b919091019291505056fea2646970667358221220014e32010460d303e4961788506a40f57bf919f7e64f17c1db1f5dcfec869fbd64736f6c634300081b0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}